webpackJsonp([7],{ImZq:function(t,s){},tLjh:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});i("vjI5");var a={data:function(){return{id:"",tarn:[],list:[],img1:"",obj:[],show:!1,ent:[],bSys:!1}},methods:{remove:function(){this.$store.commit("remove")},fn:function(){this.show=!this.show},jia:function(t,s){!function(t){var s=document.createElement("div");s.className="ballFather",document.body.appendChild(s);var i=document.createElement("div");i.className="ballSon",s.appendChild(i);var a=t.clientY,n=t.clientX;s.style.left=n+"px",s.style.top=a+"px";var e=window.innerHeight-a;s.style.webkitTransform="translateY("+e+"px)",s.style.transform="translateY("+e+"px)",i.style.webkitTransform="translateX(-"+(n-10)+"px)",i.style.transform="translateX(-"+(n-10)+"px)",setTimeout(function(){document.querySelector(".sc").classList.add("animation"),setTimeout(function(){document.querySelector(".sc").classList.remove("animation")},400)},500)}(s);var i=t.is_featured++;this.bSys=!0;var a={name:t.name,jq:t.specfoods[0].price,shu:i+1},n=this.ent,e=n.findIndex(function(s,i){return s.name==t.name});-1==e?n.push(a):n[e].shu++,this.$store.commit("fnent",n)},vxjia:function(t){this.$store.commit("calue",t)},vxjian:function(t){this.$store.commit("subtr",t)}},mounted:function(){var t=this;this.tarn=this.$route.query.id,this.id=this.$route.query.id.id,this.axios.get("http://elm.cangdu.org/shopping/v2/menu?restaurant_id="+this.id).then(function(s){t.obj=s.data}),this.img1="http://elm.cangdu.org/img/"+this.tarn.image_path,localStorage.vuex&&(this.ent=JSON.parse(localStorage.vuex).ent)},computed:{zong:function(){for(var t=0,s=0;s<this.$store.state.ent.length;s++)t+=this.$store.state.ent[s].jq*this.$store.state.ent[s].shu;return t},shu:function(){return this.$store.getters.num}}},n={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{attrs:{id:"xing"}},[i("div",{staticClass:"x-head"},[i("div",{staticClass:"x-img1"},[i("div",{staticClass:"i-head1"},[i("div",{staticClass:"i-box"},[i("img",{attrs:{src:"//elm.cangdu.org/img/"+t.tarn.image_path,alt:""}})]),t._v(" "),i("div",{staticClass:"i-box1"},[i("p",{staticClass:"x-p1"},[t._v(t._s(t.tarn.name))]),t._v(" "),i("p",[t._v("商家配送 / 分钟送达 / 配送费￥5")]),t._v(" "),i("p",[t._v(t._s(t.tarn.promotion_info))]),t._v(" "),i("p")])]),t._v(" "),i("div",{staticClass:"i-head2"},[t._m(0),t._v(" "),i("div",{staticStyle:{"padding-right":"0.3rem"}},[t._v("一个活动")]),t._v(" "),i("van-icon",{staticClass:"x-pos",attrs:{name:"arrow"}})],1),t._v(" "),i("van-icon",{staticClass:"dyj-posi",attrs:{name:"arrow-left"},on:{click:function(s){return t.$router.go(-1)}}})],1),t._v(" "),t._m(1)]),t._v(" "),i("div",{staticClass:"x-back",style:{"background-image":"url("+t.img1+")"}}),t._v(" "),i("div",{staticClass:"x-cone"},[i("div",{staticClass:"x-left"},t._l(t.obj,function(s,a){return i("div",{staticClass:"x-nav"},[i("a",{attrs:{href:"#fa"+a}},[t._v(t._s(s.name))])])}),0),t._v(" "),i("div",{staticClass:"x-right"},t._l(t.obj,function(s,a){return i("div",{staticClass:"x-right2"},[i("div",{staticClass:"hot",attrs:{id:"fa"+a}},[t._v("\n          "+t._s(s.name)+"\n          "),i("span",[t._v(t._s(s.description))]),t._v(" "),i("van-icon",{staticClass:"x-pos",attrs:{name:"ellipsis"}})],1),t._v(" "),t._l(s.foods,function(s,a){return i("ul",{staticClass:"x-ul"},[i("li",[i("div",{staticClass:"x-img"},[i("img",{attrs:{src:"http://elm.cangdu.org/img/"+s.image_path,alt:""}})]),t._v(" "),i("div",{staticClass:"x-pq"},[i("div",{staticClass:"color1"},[t._v(t._s(s.name))]),t._v(" "),i("div",{staticClass:"color2"},[t._v(t._s(s.description))]),t._v(" "),i("div",{staticClass:"color3"},[t._v(t._s(s.tips))]),t._v(" "),i("div",{staticClass:"x-p2"},[i("p",{staticClass:"color4"},[t._v("\n                  ￥\n                  "),i("span",{staticClass:"color5"},[t._v(t._s(s.specfoods[0].price))])]),t._v(" "),i("p",{staticClass:"rou"},[i("input",{attrs:{type:"button",value:"+"},on:{click:function(i){return t.jia(s,i)}}})])])])])])})],2)}),0)]),t._v(" "),i("div",{staticClass:"foot"},[i("div",{staticClass:"shop",on:{click:function(s){return t.fn()}}},[i("van-icon",{staticClass:"sc",attrs:{name:"shopping-cart"}})],1),t._v(" "),i("div",{staticClass:"x-pei"},[i("p",[t._v("￥"+t._s(t.zong)+".00")]),t._v(" "),i("p",[t._v("配送费￥1")])]),t._v(" "),i("div",{staticClass:"f-right"},[t._v("还差￥5起送")]),t._v(" "),t.bSys?i("div",{staticClass:"f-right2"},[t._v("去结算")]):t._e(),t._v(" "),i("div",{staticClass:"xing-posi"},[t._v(t._s(t.shu))])]),t._v(" "),i("div",{staticClass:"v-an"},[i("van-popup",{staticClass:"di",style:{height:"auto"},attrs:{round:"",position:"bottom"},model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[i("div",{staticClass:"color6"},[i("div",{staticClass:"xi-qing",on:{click:function(s){return t.remove()}}},[t._v("清空所有")]),t._v(" "),t._l(this.$store.state.ent,function(s,a){return i("div",{staticClass:"x-ent"},[i("div",[t._v(t._s(s.name))]),t._v(" "),i("div",[t._v(t._s(s.jq))]),t._v(" "),i("div",{staticClass:"x-out"},[i("input",{attrs:{type:"button",value:"+"},on:{click:function(s){return t.vxjia(a)}}}),t._v(" "),i("span",[t._v(t._s(s.shu))]),t._v(" "),i("input",{attrs:{type:"button",value:"-"},on:{click:function(s){return t.vxjian(a)}}})])])})],2)])],1)])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("span",[this._v("减")]),this._v("\n          满30件5，满60减8（App专享）\n        ")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"x-tou"},[s("div",[this._v("商品")]),this._v(" "),s("div",[this._v("评价")])])}]};var e=i("C7Lr")(a,n,!1,function(t){i("ImZq")},null,null);s.default=e.exports},vjI5:function(t,s){}});